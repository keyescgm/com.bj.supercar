<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>模型训练平台</title>

    <!-- Bootstrap Core CSS -->
    <link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="../../vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="../../dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/jquery.steps.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- json area resources -->
    <link href="../../vendor/jsonarea/css/jsonarea.css" rel="stylesheet" type="text/css">
    <!-- json area resources end -->
    <style>
        .scheduler-border {
            display: block;
            margin-left: 2px;
            margin-right: 2px;
            padding-top: 0.35em;
            padding-bottom: 0.625em;
            padding-left: 0.75em;
            padding-right: 0.75em;
            border: 2px groove (internal value);
        }
        .form-control {
            width: 95%;
        }

        .ace_editor {
            border:1px solid #ddd;
            border-radius:3px;
            margin-right: 5%;
        }

        #add_job_wizard .row {
            margin-top: 10px;
        }

        .crontab-row {
            display: none;
        }

        .gen-type {
            display: none;
        }
        .wizard>.content{display:block;min-height:800px;overflow-y: auto;position:relative}

        .timeline {
            list-style: none;
            padding: 20px 0 20px;
            position: relative;
        }
        .timeline:before {
            top: 0;
            bottom: 0;
            position: absolute;
            content: " ";
            width: 3px;
            background-color: #eeeeee;
            left: 25px;
            margin-right: -1.5px;
        }
        .timeline > li {
            margin-bottom: 20px;
            position: relative;
        }
        .timeline > li:before,
        .timeline > li:after {
            content: " ";
            display: table;
        }
        .timeline > li:after {
            clear: both;
        }
        .timeline > li:before,
        .timeline > li:after {
            content: " ";
            display: table;
        }
        .timeline > li:after {
            clear: both;
        }
        .timeline > li > .timeline-panel {
            width: calc( 100% - 75px );
            float: right;
            border: 1px solid #d4d4d4;
            border-radius: 2px;
            padding: 20px;
            position: relative;
            -webkit-box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
            box-shadow: 0 1px 6px rgba(0, 0, 0, 0.175);
        }
        .timeline > li > .timeline-panel:before {
            position: absolute;
            top: 26px;
            left: -15px;
            display: inline-block;
            border-top: 15px solid transparent;
            border-right: 15px solid #ccc;
            border-left: 0 solid #ccc;
            border-bottom: 15px solid transparent;
            content: " ";
        }
        .timeline > li > .timeline-panel:after {
            position: absolute;
            top: 27px;
            left: -14px;
            display: inline-block;
            border-top: 14px solid transparent;
            border-right: 14px solid #fff;
            border-left: 0 solid #fff;
            border-bottom: 14px solid transparent;
            content: " ";
        }
        .timeline > li > .timeline-badge {
            color: #fff;
            width: 50px;
            height: 50px;
            line-height: 50px;
            font-size: 1.4em;
            text-align: center;
            position: absolute;
            top: 16px;
            left: 25px;
            margin-right: -25px;
            background-color: #999999;
            z-index: 100;
            border-top-right-radius: 50%;
            border-top-left-radius: 50%;
            border-bottom-right-radius: 50%;
            border-bottom-left-radius: 50%;
        }
        .timeline > li.timeline-inverted > .timeline-panel {
            float: left;
        }
        .timeline > li.timeline-inverted > .timeline-panel:before {
            border-right-width: 0;
            border-left-width: 15px;
            right: -15px;
            left: auto;
        }
        .timeline > li.timeline-inverted > .timeline-panel:after {
            border-right-width: 0;
            border-left-width: 14px;
            right: -14px;
            left: auto;
        }
        .timeline-badge.primary {
            background-color: #2e6da4 !important;
        }
        .timeline-badge.success {
            background-color: #3f903f !important;
        }
        .timeline-badge.warning {
            background-color: #f0ad4e !important;
        }
        .timeline-badge.danger {
            background-color: #d9534f !important;
        }
        .timeline-badge.info {
            background-color: #5bc0de !important;
        }
        .timeline-title {
            margin-top: 0;
            color: inherit;
        }
        .timeline-body > p,
        .timeline-body > ul {
            margin-bottom: 0;
        }
        .timeline-body > p + p {
            margin-top: 5px;
        }
    </style>
</head>

<body>

<div id="wrapper">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/pages/index.html">dashbord</a>
        </div>
        <!-- /.navbar-header -->

        <div class="navbar-default sidebar" role="navigation">
            <div class="sidebar-nav navbar-collapse">
            </div>
            <!-- /.sidebar-collapse -->
        </div>
        <!-- /.navbar-static-side -->
    </nav>

    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Job详情</h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-7">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-12">
                                <form id="add_job_form" action="/api/job/new" method="post">
                                    <div id="add_job_wizard">
                                        <h2>基本参数</h2>
                                        <section>
                                            <div class="row">
                                                <div class="col-lg-8 form-group" >
                                                    <label for="jobName">job名称</label>
                                                    <input id="jobName" name="jobName" class="form-control" onkeyup="jobNameChange(event)"  placeholder="输入job名称">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-8 form-group">
                                                    <label for="jobOwner">job负责人</label>
                                                    <input id="jobOwner" name="jobOwner" class="form-control"  onkeyup="jobOwnerChange(event)" placeholder="输入job负责人的MIS账号">
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-8 form-group" >
                                                    <label for="jobspan">jobSpan</label>
                                                    <input id="jobspan" name="jobspan" class="form-control"  placeholder="输入训练时间跨度，数字类型">
                                                </div>

                                            </div>
                                            <hr />
                                            <div class="row">
                                                <div class="col-lg-6 scheduler-check" >
                                                    <label>是否为定时任务</label>
                                                    <label class="radio-inline">
                                                        <input type="radio" name="optionsRadiosInline" id="scheduledZero" value="0" checked>否
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input type="radio" name="optionsRadiosInline" id="scheduledOne" value="1">是
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="row crontab-row">
                                                <div class="col-lg-8 form-group">
                                                    <label for="jobScheduleCron">crontab表达式</label>
                                                    <input id="jobScheduleCron" name="jobScheduleCron"  class="form-control" placeholder="job为定时任务时crontab表达式,没有为空">
                                                </div>
                                            </div>
                                        </section>

                                        <h2>数据生成参数</h2>
                                        <section>
                                            <div class="form-group row" style="padding-left: 3%">
                                                <select class="form-control" id="genType" name="genType">
                                                    <option value="">数据生成类型</option>
                                                    <option value="1">xgboost 训练数据</option>
                                                </select>
                                            </div>
                                            <div class="panel-group gen-type" id="gen-type-1" style="display: none">
                                                <div class="alert alert-info" style="display:none">
                                                    <div id="gen-type-1-commandLine" style="font-size: 2px;">
                                                        ${SPARK_HOME}/bin/spark
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#gen-type-1-basic" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">基本信息</a>
                                                        </h4>
                                                    </div>
                                                    <div id="gen-type-1-basic" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <input id="genMainClass" name="genMainClass" class="form-control" placeholder="生成数据运行mainClass" onblur="messageChange(event)">
                                                            </div>
                                                            <div class="form-group">
                                                                <textarea id="genJarPath" name="genJarPath" class="form-control" placeholder="生成数据运行jar地址" onblur="messageChange(event)"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#gen-type-1-basicConf" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">Spark运行参数信息</a>
                                                        </h4>
                                                    </div>
                                                    <div id="gen-type-1-basicConf" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <div id="genBasicConfContainer" editor="genBasicConfEditor">
                                                                    <!--<div class="item form-inline" >
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control key" placeholder="key" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control value" placeholder="value" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="button" class="btn btn-default" value="+" onclick="addItem('genBasicConfContainer')">
                                                                        </div>
                                                                        &lt;!&ndash;<input type="input" class="key form-control" placeholder="key"> =  <input type="input" class="value  form-control" placeholder="value"> <input type="button" value="+">&ndash;&gt;
                                                                    </div>-->
                                                                </div>
                                                                <div id="genBasicConfEditor"   style="display:none">
                                                                    {}
                                                                </div>
                                                                <input type="hidden" name="genBasicConf" id="genBasicConf" value="">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#gen-type-1-jobConf" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">生成数据job配置信息</a>
                                                        </h4>
                                                    </div>
                                                    <div id="gen-type-1-jobConf" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <div id="genJobConfContainer" editor="genJobConfEditor">
                                                                    <!--<div class="item form-inline" >
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control key" placeholder="key" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control value" placeholder="value" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="button" class="btn btn-default" value="+" onclick="addItem('genJobConfContainer')">
                                                                        </div>
                                                                        &lt;!&ndash;<input type="input" class="key form-control" placeholder="key"> =  <input type="input" class="value  form-control" placeholder="value"> <input type="button" value="+">&ndash;&gt;
                                                                    </div>-->
                                                                </div>
                                                                <div id="genJobConfEditor"   style="display: none">
                                                                    {}
                                                                </div>
                                                                <input type="hidden" name="genJobConf" id="genJobConf" value="">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#gen-type-1-jobParameter" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">生成数据JobParameter</a>
                                                        </h4>
                                                    </div>
                                                    <div id="gen-type-1-jobParameter" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <div id="genparContainer" editor="genpareditor">
                                                                    <!--<div class="item form-inline" >
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control key" placeholder="key" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control value" placeholder="value" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="button" class="btn btn-default" value="+" onclick="addItem('genparContainer')">
                                                                        </div>
                                                                        &lt;!&ndash;<input type="input" class="key form-control" placeholder="key"> =  <input type="input" class="value  form-control" placeholder="value"> <input type="button" value="+">&ndash;&gt;
                                                                    </div>-->
                                                                </div>
                                                                <div id="genpareditor" style="display:none"  >
                                                                    {}
                                                                </div>
                                                                <input type="hidden" name="genJobParameter" id="genJobParameter" value="">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </section>

                                        <h2>训练job生成</h2>
                                        <section>
                                            <div class="form-group" style="padding-left: 1%">
                                                <select class="form-control" id="trainType" name="trainType">
                                                    <option value="">训练类型</option>
                                                    <option value="1">xgboost模型训练</option>
                                                </select>
                                            </div>
                                            <div class="panel-group train-type" id="train-type-1" style="display: none">
                                                <div class="alert alert-info" hidden="true">
                                                    <div id="train-type-1-commandLine" style="font-size: 2px;">
                                                        ${DMLC_HOME}/tracker/dmlc-submit
                                                    </div>
                                                </div>

                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#train-type-1-basic" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">基本信息</a>
                                                        </h4>
                                                    </div>
                                                    <div id="train-type-1-basic" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <!--<label>模型名称</label>-->
                                                                <input id="trainModelName" name="trainModelName" class="form-control" placeholder="模型名称">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#train-type-1-basicConf" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">dmlc基本配置</a>
                                                        </h4>
                                                    </div>
                                                    <div id="train-type-1-basicConf" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="form-group">

                                                                <div id="trainBasicContainer" editor="trainBasicConfEditor">
                                                                    <!--<div class="item form-inline" >
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control key" placeholder="key" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control value" placeholder="value" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="button" class="btn btn-default" value="+" onclick="addItem('trainBasicContainer')">
                                                                        </div>
                                                                        &lt;!&ndash;<input type="input" class="key form-control" placeholder="key"> =  <input type="input" class="value  form-control" placeholder="value"> <input type="button" value="+">&ndash;&gt;
                                                                    </div>-->
                                                                </div>

                                                                <div id="trainBasicConfEditor"  style="display: none"  >
                                                                    {}
                                                                </div>
                                                                <input type="hidden" name="trainBasicConf" id="trainBasicConf" value="">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#train-type-1-jobConf" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">dmlc Job配置</a>
                                                        </h4>
                                                    </div>
                                                    <div id="train-type-1-jobConf" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div id="trainConfContainer" editor="trainConfEditor">
                                                                <!--<div class="item form-inline" >
                                                                    <div class="form-group">
                                                                        <input type="input" class="form-control key" placeholder="key" onblur="generateJsonValue(event)">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <input type="input" class="form-control value" placeholder="value" onblur="generateJsonValue(event)">
                                                                    </div>
                                                                    <div class="form-group">
                                                                        <input type="button" class="btn btn-default" value="+" onclick="addItem('trainConfContainer')">
                                                                    </div>
                                                                    &lt;!&ndash;<input type="input" class="key form-control" placeholder="key"> =  <input type="input" class="value  form-control" placeholder="value"> <input type="button" value="+">&ndash;&gt;
                                                                </div>-->
                                                            </div>
                                                            <div class="form-group">
                                                                <div id="trainConfEditor"  style="display:none"  >
                                                                    {}
                                                                </div>
                                                                <input type="hidden" name="trainConf" id="trainConf" value="">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel panel-default">
                                                    <div class="panel-heading">
                                                        <h4 data-toggle="collapse" data-parent="#accordion" href="#train-type-1-jobParameter" class="panel-title expand">
                                                            <div class="right-arrow pull-right">+</div>
                                                            <a href="#">dmlc Job参数</a>
                                                        </h4>
                                                    </div>
                                                    <div id="train-type-1-jobParameter" class="panel-collapse collapse">
                                                        <div class="panel-body">
                                                            <div class="form-group">
                                                                <div id="trainParameterContainer" editor="trainParameterEditor">
                                                                    <!--<div class="item form-inline" >
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control key" placeholder="key" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="input" class="form-control value" placeholder="value" onblur="generateJsonValue(event)">
                                                                        </div>
                                                                        <div class="form-group">
                                                                            <input type="button" class="btn btn-default" value="+" onclick="addItem('trainParameterContainer')">
                                                                        </div>
                                                                        &lt;!&ndash;<input type="input" class="key form-control" placeholder="key"> =  <input type="input" class="value  form-control" placeholder="value"> <input type="button" value="+">&ndash;&gt;
                                                                    </div>-->
                                                                </div>
                                                                <div id="trainParameterEditor" style="display: none"  >
                                                                    {}
                                                                </div>
                                                                <input type="hidden" name="trainParameter" id="trainParameter" value="">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>



                                        </section>

                                        <h2>完成</h2>
                                        <section>
                                            <p>点击提交按钮以后，job将自动进入队列，你可以通过点击job列表的详情页面查看job相关信息。</p>
                                        </section>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <i class="fa fa-clock-o fa-fw"></i> job进度
                    </div>
                    <!-- /.panel-heading -->
                    <div class="panel-body">

                        <ul class="timeline" id="job_process">

                        </ul>
                        <button  class="btn btn-default" style="margin-left: 22px"><a id="copyjob" name="copyjob">拷贝job信息</a></button>
                    </div>
                    <!-- /.panel-body -->
                </div>
            </div>
        </div>
        <!--隐藏动态生成域信息-->
        <div hidden="true">
            <div id="tl_li_template">
                <li >
                    <div class="timeline-badge"><i class="glyphicon "></i></div>
                    <div class="timeline-panel">
                        <div class="timeline-heading">
                            <h4 class="timeline-title"></h4>
                            <p><small class="text-muted"><i class="fa fa-clock-o"></i> 11 hours ago via Twitter</small>
                            </p>
                        </div>
                        <div class="timeline-body">
                            <p></p>
                        </div>
                    </div>
                </li>
            </div>
        </div>
    </div>

    <div id="add_item_template" style="display: none">
        <div class="item form-inline" style="margin-top:10px">
            <div class="form-group">
                <input type="input" class="form-control key" placeholder="key" value="keyvalue" onblur="generateJsonValue(event)">
            </div>
            <div class="form-group">
                <input type="input" class="form-control value" placeholder="value" value="valvalue" onblur="generateJsonValue(event)">
            </div>
            <!-- <div class="form-group">
                 <input type="button" class="btn btn-default" value="+" onclick="addItem('add_item_template_add_btn_template')">
             </div>
             <div class="form-group">
                 <input type="button" class="btn btn-default" value="-" onclick="removeItem(event)">
             </div>-->
        </div>
    </div>
</div>

<script src="/js/modernizr-2.6.2.min.js"></script>
<!-- jQuery -->
<script src="../../vendor/jquery/jquery.min.js"></script>
<script src="/js/jquery.cookie-1.3.1.js"></script>
<script src="/js/jquery.steps.min.js"></script>
<!-- Bootstrap Core JavaScript -->
<script src="../../vendor/bootstrap/js/bootstrap.min.js"></script>

<!-- Metis Menu Plugin JavaScript -->
<script src="../../vendor/metisMenu/metisMenu.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="../../dist/js/sb-admin-2.js"></script>
<script src="/js/common.js"></script>

<script src="../../ace/ace.js"></script>
<script src="../../vendor/jsonarea/form-detail.js" type="text/javascript"> </script>

<script src="../../jquery-validation/jquery.validate.min.js" type="text/javascript"> </script>
<!--<script src="../../jquery-validation/jquery.validate.cn.js" type="text/javascript"> </script>-->
<script src="../../vendor/jsonarea/jobcommon.js" type="text/javascript"> </script>
<script src="../../vendor/jsonarea/jobdetail.js" type="text/javascript"></script>
<script>
    function addItem(divId) {
        var template = $("#add_item_template").html().replace('add_item_template_add_btn_template', divId);
        $("#" + divId).append(template)
    }

    function removeItem(e) {
        var p = $(e.target).parent().parent().parent();
        $(e.target).parent().parent().remove()
        var jsonResult = {};
        $( ".item" ,p).each(function() {
            jsonResult[$(".key", this).val()] = $(".value", this).val();
        });

        updateEditor(p.attr("editor"), jsonResult);
        $("#gen-type-1-commandLine").html(genType1CommandLine())
    }

    function generateJsonValue(e) {
        var p = $(e.target).parent().parent().parent();
        var jsonResult = {};
        $( ".item" ,p).each(function() {
            jsonResult[$(".key", this).val()] = $(".value", this).val();
        });

        updateEditor(p.attr("editor"), jsonResult);

        $("#gen-type-1-commandLine").html(genType1CommandLine());
        $("#train-type-1-commandLine").html(trainType1CommandLine());
        $("#tl_data_gen_job").html(genType1CommandLine());
        $("#tl_data_train_job").html(trainType1CommandLine());
    }

    function messageChange(e) {
        $("#gen-type-1-commandLine").html(genType1CommandLine());
        $("#train-type-1-commandLine").html(trainType1CommandLine());
        $("#tl_data_gen_job").html(genType1CommandLine());
        $("#tl_data_train_job").html(trainType1CommandLine());
    }
    function updateEditor(editor, json) {
        var e = eval(editor);
        var v = JSON.stringify(json, null, 4); // 4 is the indent size
        e.session.setValue(v);
    }

    function jobNameChange(e) {
        $("#tl_job_name" ).html($(e.target).val());
    }
    function jobOwnerChange(e) {
        $("#tl_job_owner" ).html($(e.target).val());
    }
</script>
</body>

</html>
